<div class="animated fadeIn">
  <snippet-bar-org></snippet-bar-org>
  <div class="row">
    <div *ngFor="let widget of widgetList" class="col-sm-6 col-lg-3">
      <widget-graph *ngIf="widget.type == 'graph'"
                    [graphName]="widget.name"
                    [graphTitle]="widget.title"
                    [graphIcon]="widget.icon"
                    [dataType]="widget.dataType">
      </widget-graph>
    </div><!--/.col-->
  </div><!--/.row-->
  <panel-graph></panel-graph>
  <div class="card">
    <div class="card-block">
      <div class="row">
        <div class="col-12">
          <h4 class="card-title float-left mb-0">Spend by company and Industrial sector</h4>
        </div><!--/.col-->
      </div><!--/.row-->
      <div class="chart-wrapper">
        <canvas baseChart class="chart"
        [datasets]="lineChartDataSector"
        [labels]="lineChartLabelsSector"
        [options]="lineChartOptionsSector"
        [legend]="lineChartLegendSector"
        [chartType]="lineChartTypeSector"
        (chartHover)="chartHovered($event)"
        (chartClick)="chartClicked($event)"></canvas>
      </div>
    </div>
</div>
<div class=row>
  <div class="col-xl-6">
    <div class="card">
      <div class="card-block">
        <div class="row">
          <div class="col-12">
            <h4 class="card-title mb-0">No. of Essential Purchases</h4>
          </div>
        </div>
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [datasets]="barChartDataEssential"
          [labels]="barChartLabelsEssential"
          [options]="barChartOptionsEssential"
          [chartType]="barChartTypeEssential"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
  </div><!--/.col-->
  <div class="col-xl-6">
    <div class="card">
        <div class="card-block">
          <div class="row">
            <div class="col-12">
              <h4 class="card-title mb-0">Weekly Spending by Category</h4>
            </div>
          </div>
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
              [datasets]="doughnutChartDataCategory"
              [labels]="doughnutChartLabelsCategory"
              [options]="doughnutChartOptionsCategory"
              [legend]="chartLegend"
              [chartType]="chartType"
              (chartHover)="chartHovered($event)"
              (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      </div>
  </div>
    <div class="col-xl-6">
      <org-pie-panel></org-pie-panel>
    </div>
    <div class="col-xl-6">
      <div class="card">
        <div class="card-block">
          <div class="row">
            <div class="col-12">
              <h4 class="card-title mb-0">Monthly Spending by Category</h4>
            </div>
          </div>
          <div class="chart-wrapper">
            <canvas baseChart
            [datasets]="barChartDataCategory"
            [labels]="barChartLabelsCategory"
            [options]="barChartOptionsCategory"
            [legend]="barChartLegendCategory"
            [chartType]="barChartTypeCategory"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-6">
      <div class="card">
        <div class="card-block">
          <div class="row">
            <div class="col-12">
              <h4 class="card-title float-left mb-0">Weekly Purchase No.</h4>
            </div><!--/.col-->
          </div><!--/.row-->
          <div class="chart-wrapper">
            <ul class="horizontal-bars type-2">
              <li>
                <span class="title">This Week</span>
                <span class="value">{{ (weekPurchaseList.first  || 0 ) }} <span class="text-muted small">
                  ({{ (weekPurchaseList.first || 0 ) / weekPurchaseList.max | percent:'1.0-0' }})</span></span>
                <div class="bars">
                  <div class="progress" style="height: 6px;">
                    <div class="progress-bar bg-success" role="progressbar"
                    [style.width]="(weekPurchaseList.first || 0 ) / weekPurchaseList.max | percent:'1.0-0'" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </li>
              <li>
                <span class="title">Last Week</span>
                <span class="value">{{ weekPurchaseList.second || 0 }} <span class="text-muted small">
                  ({{ (weekPurchaseList.second || 0 ) / weekPurchaseList.max | percent:'1.0-0' }})</span></span>
                <div class="bars">
                  <div class="progress" style="height: 6px;">
                    <div class="progress-bar bg-success" role="progressbar"
                    [style.width]="(weekPurchaseList.second || 0 ) / weekPurchaseList.max | percent:'1.0-0'" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </li>
              <li>
                <span class="title">Week Maximum</span>
                <span class="value">{{ weekPurchaseList.max || 0 }} <span class="text-muted small">
                  (100%)</span></span>
                <div class="bars">
                  <div class="progress" style="height: 6px;">
                    <div class="progress-bar bg-success" role="progressbar"
                    style="width: 100%" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </li>
              <li>
                <span class="title">Weekly Average</span>
                <span class="value">{{ (weekPurchaseList.sum / weekPurchaseList.count) || 0  | number:'1.0-0'}} <span class="text-muted small">
                  ({{ ((weekPurchaseList.sum / weekPurchaseList.count) || 0) / weekPurchaseList.max | percent:'1.0-0' }})</span></span>
                <div class="bars">
                  <div class="progress" style="height: 6px;">
                    <div class="progress-bar bg-success" role="progressbar"
                    [style.width]="((weekPurchaseList.sum / weekPurchaseList.count) || 0) / weekPurchaseList.max | percent:'1.0-0'" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
            <div class="col-xl-6">
              <div class="card">
                <div class="card-block">
                  <div class="row">
                    <div class="col-12">
                      <h4 class="card-title float-left mb-0">All Purchases by Category</h4>
                    </div><!--/.col-->
                  </div><!--/.row-->
                  <div class="chart-wrapper">
                    <canvas baseChart class="chart"
                    [datasets]="barChartDataCategory"
                    [labels]="barChartLabelsCategory"
                    [options]="barChartOptionsCategory"
                    [legend]="barChartLegendCategory"
                    [chartType]="barChartTypeCategory"
                    (chartHover)="chartHovered($event)"
                    (chartClick)="chartClicked($event)"></canvas>
                  </div>
                </div>
              </div>
            </div>
</div>
